<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Musik & 3D Cake</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<script>
// Tambahkan class 'active' ke menu yang sesuai dengan halaman saat ini
document.addEventListener('DOMContentLoaded', function() {
    const currentPage = window.location.pathname.split('/').pop();
    const navLinks = document.querySelectorAll('nav a');
    navLinks.forEach(link => {
        if (link.getAttribute('href') === currentPage) {
            link.classList.add('active');
        }
    });
});
</script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const audio = document.getElementById('birthdayAudio');
    const playBtn = document.getElementById('playPauseBtn');
    const progressFill = document.getElementById('progressFill');
    const progressBar = document.querySelector('.progress-bar');

    // Play/Pause
    playBtn.addEventListener('click', function() {
        if (audio.paused) {
            audio.play();
            playBtn.classList.add('pause');
            createConfetti(); // Trigger confetti when music starts playing
        } else {
            audio.pause();
            playBtn.classList.remove('pause');
        }
    });

    // Update progress bar
    audio.addEventListener('timeupdate', function() {
        const percent = (audio.currentTime / audio.duration) * 100;
        progressFill.style.width = percent + '%';
    });

    // Klik pada progress bar untuk maju
    progressBar.addEventListener('click', function(e) {
        const width = this.clientWidth;
        const clickX = e.offsetX;
        const duration = audio.duration;
        audio.currentTime = (clickX / width) * duration;
    });
});
</script>
<body>
    <header>
        <div class="logo">Mylove</div>
        <nav>
            <ul>
                <li><a href="index.html">Beranda</a></li>
                <li><a href="musik.html">Musik</a></li>
                <li><a href="kartu-doa.html">Wishes</a></li>
                <li><a href="galeri-foto.html">Random PAP</a></li>
                <li><a href="games.html">Games</a></li>
            </ul>
        </nav>
        <div class="menu-toggle">☰</div>
    </header>

    <main class="music-page">
        <!-- KUE 3D DI SEBELAH KIRI -->
        <div class="left-section animate-in">
            <div class="cake-container">
                <img src="assets/images/cake.png" alt="Kue Ulang Tahun 3D">
            </div>
        </div>

        <!-- FOTO & AUDIO DI SEBELAH KANAN -->
        <div class="right-section animate-in">
    <h2 class="typewriter-text" data-text="HAPPY SWEET SEVENTEEN bb !!">HAPPY SWEET SEVENTEEN BB!!</h2>

    <!-- Bingkai Polaroid untuk Foto -->
    <div class="polaroid-frame animate-in">
        <img src="assets/images/photo1.jpg" alt="Foto Pacar">
        <div class="polaroid-caption">My Love ❤️</div>
    </div>

    <!-- Pemutar Musik Gaya Spotify -->
    <div class="spotify-player animate-in">
        <div class="track-info">
            <div class="track-title">ONE ONLY</div>
            <div class="track-artist">Pamungkas</div>
        </div>
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="controls">
            <button id="playPauseBtn" class="control-btn">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M8 5v14l11-7z"/>
                </svg>
            </button>
        </div>
            <audio id="birthdayAudio">
                <source src="assets/audio/hbd-song.mp3" type="audio/mpeg">
            </audio>
        </div>

        <p class="message typewriter-text" data-text='"Selamat ulang tahun, sayang. Semoga hari ini seindah senyummu dan cintaku selalu jadi hadiah terbaik untukmu. I love you!"'>
            "Selamat ulang tahun, sayang. Semoga hari ini seindah senyummu dan cintaku selalu jadi hadiah terbaik untukmu. I love you!"
        </p>
    </div>
    </main>

    <script src="assets/js/script.js"></script>

    <script>
    // Animasi teks per huruf (typewriter effect)
    function typeText(element, text, index = 0, delay = 50) {
        if (index < text.length) {
            // Tambahkan huruf satu per satu
            element.textContent += text.charAt(index);
            setTimeout(() => typeText(element, text, index + 1, delay), delay);
        }
    }

    // Jalankan saat halaman dimuat
    document.addEventListener('DOMContentLoaded', function() {
        // Target semua elemen dengan class .typewriter-text
        const typewriterElements = document.querySelectorAll('.typewriter-text');

        typewriterElements.forEach((el, i) => {
            const fullText = el.getAttribute('data-text');
            el.textContent = ''; // Kosongkan dulu
            // Tunggu sebentar sebelum mulai (agar tidak terlalu cepat)
            setTimeout(() => {
                // Jika ini paragraf, gunakan delay lebih lama
                const delay = el.tagName === 'P' ? 30 : 80;
                typeText(el, fullText, 0, delay);
            }, i * 1000 + 800); // Judul dulu, lalu paragraf
        });

        // Trigger animasi masuk
        setTimeout(() => {
            document.querySelectorAll('.animate-in').forEach((el, index) => {
                setTimeout(() => {
                    el.classList.add('visible');
                }, index * 100);
            });
        }, 500); // Delay awal 0.5s
    });
    </script>

    <div class="confetti-container" id="confetti"></div>
    <script>
    // Buat konfeti jatuh
    function createConfetti() {
        const container = document.getElementById('confetti');
        const colors = ['#ff69b4', '#ffb6c1', '#ff1493', '#ff9eb1', '#ffdae6'];
        for (let i = 0; i < 30; i++) {
            setTimeout(() => {
                const piece = document.createElement('div');
                piece.className = 'confetti-piece';
                piece.style.left = Math.random() * 100 + 'vw';
                piece.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                piece.style.animationDuration = (Math.random() * 3 + 2) + 's';
                piece.style.width = (Math.random() * 8 + 6) + 'px';
                piece.style.height = piece.style.width;
                container.appendChild(piece);
                setTimeout(() => piece.remove(), 5000);
            }, i * 200);
        }
    }
    </script>
</body>
</html>