<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cari Kata!</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        /* === Gaya Khusus Game dengan Animasi === */
        .game-container {
            max-width: 600px;
            margin: 1.5rem auto;
            text-align: center;
            padding: 1.5rem;
            position: relative;
            z-index: 2;
        }

        .game-title {
            font-family: 'Brush Script MT', cursive;
            font-size: 2.4rem;
            color: #ff69b4;
            margin-bottom: 1rem;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s ease-out forwards;
        }

        .instructions {
            margin-bottom: 1.5rem;
            color: #555;
            line-height: 1.6;
            opacity: 0;
            transform: translateY(15px);
            animation: fadeInUp 0.8s ease-out 0.2s forwards;
        }

        .word-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            margin: 1.5rem 0;
            min-height: 200px;
        }

        .word-btn {
            padding: 14px 22px;
            background: #ffe6f0;
            border: none;
            border-radius: 14px;
            font-weight: bold;
            color: #ff69b4;
            cursor: pointer;
            transition: all 0.25s;
            font-size: 1.15rem;
            box-shadow: 0 4px 8px rgba(255, 105, 180, 0.15);
            opacity: 0;
            transform: translateY(30px) rotate(-5deg);
        }

        .word-btn.visible {
            opacity: 1;
            transform: translateY(0) rotate(0);
            transition: all 0.5s cubic-bezier(0.18, 0.89, 0.32, 1.28);
        }

        .word-btn:hover {
            background: #ff69b4;
            color: white;
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 6px 12px rgba(255, 105, 180, 0.3);
        }

        .date-picker {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 1.2rem 0;
            opacity: 0;
            transform: translateY(20px);
        }

        .date-picker.visible {
            opacity: 1;
            transform: translateY(0);
            transition: all 0.6s ease-out 0.2s;
        }

        .date-btn {
            width: 44px;
            height: 44px;
            margin: 4px;
            border: none;
            border-radius: 50%;
            background: #ffe6f0;
            color: #ff69b4;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }

        .date-btn:hover {
            background: #ff69b4;
            color: white;
            transform: scale(1.15);
            box-shadow: 0 4px 10px rgba(255, 105, 180, 0.4);
        }

        .date-btn.selected {
            background: #ff69b4;
            color: white;
            transform: scale(1.25);
            box-shadow: 0 0 12px rgba(255, 105, 180, 0.7);
        }

        #confirmDate {
            opacity: 0;
            transform: translateY(15px);
        }

        #confirmDate.visible {
            opacity: 1;
            transform: translateY(0);
            transition: all 0.5s ease 0.4s;
        }

        .confetti {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            opacity: 0;
        }

        /* Partikel hati latar belakang (opsional) */
        .heart-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .heart-dot {
            position: absolute;
            color: #ff69b420;
            font-size: 16px;
            opacity: 0.6;
            animation: float 12s infinite ease-in-out;
        }

        /* Animasi Umum */
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">Mylove</div>
        <nav>
            <ul>
                <li><a href="index.html">beranda</a></li>
                <li><a href="musik.html">Musik</a></li>
                <li><a href="kartu-doa.html">Wishes</a></li>
                <li><a href="galeri-foto.html">Random PAP</a></li>
                <li><a href="games.html">Games</a></li>
            </ul>
        </nav>
        <div class="menu-toggle">☰</div>
    </header>

    <!-- Partikel hati latar belakang -->
    <div class="heart-bg" id="heartBg"></div>

    <main>
        <div class="game-container">
            <h2 class="game-title">Cari Kata rahasia</h2>
            <p class="instructions">
                Di antara kata-kata ini, ada satu kata spesial: <strong>"SECRET"</strong>.<br>
                Klik kata itu, lalu kamu akan mendapat hadiah! ❤️
            </p>

            <div class="word-grid" id="wordGrid">
                <!-- Kata diisi oleh JS -->
            </div>

            <div class="date-form" id="dateForm" style="display:none; margin-top:1.5rem;">
                <p>Pilih tanggal dinner di bulan Desember 2025:</p>
                <div class="date-picker" id="datePicker"></div>
                <button id="confirmDate" class="word-btn" style="margin-top:1rem;" onclick="showTicket()">Konfirmasi Dinner!</button>
            </div>
        </div>

        <div class="confetti" id="confetti"></div>
    </main>

    <script src="assets/js/script.js"></script>
    <script>
        let selectedDate = null;

        // Buat partikel hati latar belakang
        function createHeartBackground() {
            const container = document.getElementById('heartBg');
            const heartCount = 12;
            for (let i = 0; i < heartCount; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'heart-dot';
                    heart.innerHTML = '❤️';
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.top = Math.random() * 100 + 'vh';
                    heart.style.fontSize = (Math.random() * 12 + 12) + 'px';
                    heart.style.animationDelay = Math.random() * 5 + 's';
                    container.appendChild(heart);
                }, i * 500);
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            createHeartBackground();

            const wordGrid = document.getElementById('wordGrid');
            const dateForm = document.getElementById('dateForm');
            const datePicker = document.getElementById('datePicker');

            // Daftar kata acak
            const words = [
                'LOVE', 'CAKE', 'MUSIC', 'GIFT', 'SMILE', 'HEART', 'KISS', 'HUG',
                'SWEET', 'DREAM', 'ANGEL', 'BABY', 'SUNSHINE', 'MOON', 'STAR',
                'FOREVER', 'ALWAYS', 'TRUE', 'CHECK IN', 'MYSTERY', 'PEACE', 'HOLIDAY'
            ];
            const shuffled = [...words].sort(() => 0.5 - Math.random());
            const insertAt = Math.floor(Math.random() * (shuffled.length + 1));
            shuffled.splice(insertAt, 0, 'DINNER');

            // Tampilkan kata satu per satu dengan delay
            shuffled.forEach((word, index) => {
                setTimeout(() => {
                    const btn = document.createElement('button');
                    btn.className = 'word-btn';
                    btn.textContent = word;
                    btn.onclick = function() {
                        if (word === 'DINNER') {
                            wordGrid.style.display = 'none';
                            
                            // Tampilkan form dengan animasi
                            dateForm.style.display = 'block';
                            setTimeout(() => {
                                document.querySelector('.date-picker').classList.add('visible');
                                document.getElementById('confirmDate').classList.add('visible');
                            }, 300);
                            
                            generateDatePicker();
                        } else {
                            // Efek goyang lucu saat salah
                            this.style.transform = 'rotate(8deg)';
                            setTimeout(() => {
                                this.style.transform = '';
                            }, 300);
                        }
                    };
                    wordGrid.appendChild(btn);
                    // Trigger animasi muncul
                    setTimeout(() => btn.classList.add('visible'), 100);
                }, index * 80); // Delay 80ms per kata
            });

            function generateDatePicker() {
                datePicker.innerHTML = '';
                for (let day = 1; day <= 31; day++) {
                    const btn = document.createElement('button');
                    btn.className = 'date-btn';
                    btn.textContent = day;
                    btn.onclick = () => {
                        document.querySelectorAll('.date-btn').forEach(b => b.classList.remove('selected'));
                        btn.classList.add('selected');
                        selectedDate = day;
                    };
                    datePicker.appendChild(btn);
                }
            }
        });

                function showTicket() {
            if (selectedDate === null) {
                alert('Pilih tanggal dulu, sayang! ❤️');
                return;
            }

            // Sembunyikan form
            document.getElementById('dateForm').style.display = 'none';

            // Buat overlay kemenangan
            const winOverlay = document.createElement('div');
            winOverlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(135deg, #fff8f9, #b35b8b);
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                z-index: 9999;
                opacity: 0;
                animation: fadeIn 0.6s forwards;
            `;

            // Teks "Kamu Menang!"
            const winText = document.createElement('div');
            winText.innerHTML = '✨ Selamatt Dinner kita sudaa di kunci! ✨';
            winText.style.cssText = `
                font-family: 'Brush Script MT', cursive;
                font-size: 3.2rem;
                color: #b35b8b;
                text-align: center;
                margin-bottom: 20px;
                opacity: 0;
                animation: popIn 0.8s 0.5s forwards;
            `;

            // Pesan kecil
            const subText = document.createElement('div');
            subText.textContent = 'Tiket dinner spesial sedang dipersiapkan...';
            subText.style.cssText = `
                font-size: 1.2rem;
                color: #d32f7d;
                text-align: center;
                opacity: 0;
                animation: fadeIn 1s 0.6s forwards;
            `;

            winOverlay.appendChild(winText);
            winOverlay.appendChild(subText);
            document.body.appendChild(winOverlay);

            // Tambahkan konfeti & hati
            createWinConfetti();
            createWinHearts();

            // Setelah 1.8 detik, redirect ke tiket
            setTimeout(() => {
                window.location.href = `tiket.html?tanggal=${selectedDate}`;
            }, 5000);
        }

        // Fungsi Konfeti Kemenangan
        function createWinConfetti() {
            const container = document.createElement('div');
            container.id = 'winConfetti';
            container.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 10000;
            `;
            document.body.appendChild(container);

            const colors = ['#ff69b4', '#ffb6c1', '#ff1493', '#ff9eb1', '#ffd1dc'];
            for (let i = 0; i < 150; i++) {
                const piece = document.createElement('div');
                piece.style.cssText = `
                    position: absolute;
                    width: ${Math.random() * 8 + 6}px;
                    height: ${Math.random() * 8 + 6}px;
                    background: ${colors[Math.floor(Math.random() * colors.length)]};
                    border-radius: 50%;
                    top: -10px;
                    left: ${Math.random() * 100}vw;
                    opacity: ${Math.random() * 0.7 + 0.3};
                    animation: fall ${Math.random() * 2 + 1}s linear forwards;
                `;
                container.appendChild(piece);
            }

            // Tambahkan keyframes jika belum ada
            if (!document.getElementById('win-anim')) {
                const style = document.createElement('style');
                style.id = 'win-anim';
                style.textContent = `
                    @keyframes fadeIn {
                        to { opacity: 1; }
                    }
                    @keyframes popIn {
                        0% { transform: scale(0.5); opacity: 0; }
                        70% { transform: scale(1.1); }
                        100% { transform: scale(1); opacity: 1; }
                    }
                    @keyframes fall {
                        to {
                            transform: translateY(100vh) rotate(${Math.random() * 360}deg);
                            opacity: 0;
                        }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // Fungsi Hati Kemenangan
        function createWinHearts() {
            const container = document.getElementById('winConfetti') || document.body;
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.innerHTML = '❤️';
                    heart.style.cssText = `
                        position: absolute;
                        font-size: ${Math.random() * 20 + 20}px;
                        color: #ff69b4;
                        opacity: 0.8;
                        top: 100vh;
                        left: ${Math.random() * 100}vw;
                        animation: floatUp ${Math.random() * 3 + 2}s ease-out forwards;
                        z-index: 10001;
                    `;
                    container.appendChild(heart);
                }, i * 100);
            }

            // Tambahkan animasi floatUp jika belum ada
            if (!document.getElementById('heart-anim')) {
                const style = document.createElement('style');
                style.id = 'heart-anim';
                style.textContent = `
                    @keyframes floatUp {
                        0% { transform: translateY(0); opacity: 0; }
                        10% { opacity: 0.8; }
                        100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
        }
    </script>
</body>
</html>